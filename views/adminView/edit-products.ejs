<%-include('../adminView/include/ad_header')-%>
<%-include('../adminView/include/_sidebar')-%>



<main class="px-md-4 icons " style="margin-left: 18%;width: 80%; margin-top: 6%;">

    <h1 class="mt-5">Edit Product</h1>
    <div class="row d-flex justify-content-between">
        <div class="col-md-8 border p-3 mb-3">
            <br>
            <form action="/admin/update-productPage/<%=ProductData.id%>" method="post" enctype="multipart/form-data" class="bg-white ">
                <div class="form-group border p-3 mb-3">
                    <input type="text" name="ProductName" class="form-control bg-light" id="productName"
                     value="<%- ProductData.ProductName%>" required/>
                </div><br>

                <div class="form-group border p-3 mb-3">
                    <textarea class="form-control bg-light" name="Description" id="productDescription" rows="4"
                        required><%- ProductData.Description%></textarea>
                </div>
                <br>
                <div class="form-group border p-3 mb-3">
                    <label for="productSpecification">Specification:</label>
                    <textarea class="form-control bg-light" name="Specification1" id="productSpecification1"
                        placeholder="Enter product Specification" required><%- ProductData.Specification1%></textarea>
                    <label for="productSpecification2">Specification:</label>
                    <textarea class="form-control bg-light" name="Specification2" id="productSpecification"
                        placeholder="Enter product Specification" required><%- ProductData.Specification2%></textarea>
                    <label for="productSpecification3">Specification:</label>
                    <textarea class="form-control bg-light" name="Specification3" id="productSpecification"
                        placeholder="Enter product Specification" required><%- ProductData.Specification3%></textarea>
                    <label for="productSpecification4">Specification:</label>
                    <textarea class="form-control bg-light" name="Specification4" id="productSpecification"
                        placeholder="Enter product Specification" required><%- ProductData.Specification4%></textarea>
                </div>
                <br>
                <div class="border p-3 mb-3">
                    <h2>Images</h2>
                    <!-- Display existing images here -->
                    <!-- Add file input elements for new images if needed -->
                    <input type="file" name="main" accept="image/*" style="width: 188px; height: 188px;">
                    <img src="/product-img/<%= ProductData.images[0] %>" alt="Old Main Image" width="88" height="88">
                    <input type="file" name="image1" accept="image/*" style="width: 188px; height: 188px;">
                    <img src="/product-img/<%= ProductData.images[1] %>" alt="Old Image 1" width="88" height="88">
                    <input type="file" name="image2" accept="image/*" style="width: 188px; height: 188px;">
                    <img src="/product-img/<%= ProductData.images[2] %>" alt="Old Image 2" width="88" height="88">
                    <input type="file" name="image3" accept="image/*" style="width: 188px; height: 188px;">
                    <img src="/product-img/<%= ProductData.images[3] %>" alt="Old Image 3" width="88" height="88">
                </div>


                <div class="border p-3 mb-3">
                    <h2>Pricing</h2>
                    <div class="form-group">
                        <label for="basePrice">Price:</label>
                        <input type="number" name="Price" class="form-control bg-light" id="basePrice"
                           value="<%- ProductData.Price%>" placeholder="Enter base price" required />
                    </div>
                    <br>
                    <div class="form-group">
                        <label for="discountAmount">Discount Amount:</label>
                        <input type="number" name="DiscountAmount" class="form-control bg-light"
                            id="discountAmount" value="<%- ProductData.DiscountAmount%>" placeholder="Enter discount amount" required />
                    </div>
                </div>



                <div class="border p-3 mb-3">
                    <h2>Stock</h2>

                    <div class="form-group">
                        <label for="quantity">Quantity:</label>
                        <input type="number" name="AvailableQuantity" class="form-control bg-light"
                            id="quantity" value="<%- ProductData.AvailableQuantity%>" placeholder="Enter quantity" required />
                    </div>
                </div>
        </div>

        <div class="col-md-4  ">
            <div class="bg-white  border p-3 mb-3">
                <div class="form-group">
                    <br>
                    <label>Category:</label>
                    <select class="form-select bg-light" id="category" name="Category" required>
                        <option value="" selected disabled><%- ProductData.Category%></option>
                         <%if(categoryData){%>
                            <%categoryData.forEach((data)=>{%>
                              <option value="<%=data.name%>">
                                <%=data.name%>
                              </option>
                              <%})%>
                                <%}%>   
                    </select>
                </div><br>
                <div class="form-group">
                    <br>
                    <label>Brand Name:</label>
                    <select name="BrandName" class="form-select bg-light" id="brand" required>
                        <option value="" selected disabled><%- ProductData.BrandName%></option>
                        <%if(brandData){%>
                            <%brandData.forEach((data)=>{%>
                              <option value="<%=data.name%>">
                                <%=data.name%>
                              </option>
                              <%})%>
                                <%}%>
                    </select>
                </div><br>
                <div class="form-group">
                    <label for="tags">Tags:</label>
                    <input type="text" class="form-control bg-light" name="Tags" id="tags"
                        placeholder="Enter tags" value="<%- ProductData.Tags%>"  />
                        <br>
                        <button type="submit" class="btn btn-primary">Add Product</button>
                </div>
            </div>
        </div>
        </form>
    </div>
</main>



<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "200px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
    }
</script>