<%-include('./partial/header')%>
<link rel="stylesheet" href="/orders.css">

<section style="background-color: #eee;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col">
        <% if (orderData.length > 0) { %>
          <% orderData.forEach((x) => { %>
            <div class="card card-stepper p-4 shadow" style="border-radius: 10px;">
              <div class="card-body p-4">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="d-flex flex-column">
                    <span class="lead fw-normal">Your order has been <%= x.Status %></span>
                    <ul>
                      <% x.Items.forEach((item) => { %>
                        <li>
                          <b>
                            <%= item.productId ? item.productId.ProductName : 'Product Name Not Available' %>
                          </b><br>
                          Quantity: <%= item.quantity %>
                        </li>
                        <br>
                      <% }); %>
                    </ul>
                  </div>
                  <div>
                    <a href=""><button class="btn btn-outline-primary" type="button">Order details</button></a>
                  </div>
                </div>
                <hr class="my-4">
                <ul id="progressbar-2" class="d-flex justify-content-between mx-0 mt-0 mb-5 px-0 pt-0 pb-2">
                  <li class="step0 active text-center" id="step1"></li>
                  <li class="step0 active text-center" id="step2"></li>
                  <li class="step0 active text-center" id="step3"></li>
                  <li class="step0 text-muted text-end" id="step4"></li>
                </ul>
                <p class="lead fw-bold mb-4 pb-2" style="color: #276ef3;">Tracking Order</p>
                <div class="row">
                  <div class="col-lg-12">
                    <div class="horizontal-timeline">
                      <ul class="list-inline items d-flex justify-content-between">
                        <li class="list-inline-item items-list">
                          <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">Ordered</p>
                        </li>
                        <% if (x.Status === "Cancelled") { %>
                          <li class="list-inline-item items-list">
                            <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">Order Cancelled</p>
                          </li>
                        <% } else if (x.Status === "Shipped") { %>
                          <li class="list-inline-item items-list">
                            <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">Shipped</p>
                          </li>
                          <li class="list-inline-item items-list">
                            <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">On the way</p>
                          
                          </li>
                          <li class="list-inline-item items-list">
                            <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">expecting</p>
                          </li>
                        <% } else if (x.Status === "Delivered") { %>
                          <li class="list-inline-item items-list text-end" style="margin-right: 8px;">
                            <p class="py-1 px-2 rounded text-white" style="background-color: #2790f3;">Delivered</p>
                          </li>
                        <% } else if (x.Status === "Rejected") { %>
                          <li class="list-inline-item items-list text-end" style="margin-right: 8px;">
                            <span class="py-1 px-2 rounded text-white" style="background-color: #f32727;">Rejected By Seller</span>
                          </li>
                        <% } %>
                      </ul>
                      <% if (x.Status==="Delivered"){%>
                        <a href=""><span class="py-1 px-2 rounded text-white" style="background-color: #f3ac27;">Invoice</span></a>
                        <%}%>
                        <!-- <a href=""><span class="py-1 px-2 rounded text-white" style="background-color: #f3ac27;">Cancell Order</span></a> -->
                    </div>
                  </div>
                </div>
                <br>
              </div>
            </div>
          <br>
        <% }); %>
        <% } else { %>
          <h3>No orderData Available</h3>
        <% } %>
      </div>
    </div>
  </div>
</section>
<%-include('./partial/footer')%>
